angular.module("md.data.table",["md.table.templates"]).directive("mdTableBody",["$mdTableRepeat","$timeout",function(a,b){"use strict";function c(a,c,d,e){c.parent().attr("md-row-select")&&(a.isSelected=function(a){return-1!==e.selectedItems.indexOf(a)},a.toggleRow=function(b){a.isSelected(b)?e.selectedItems.splice(e.selectedItems.indexOf(b),1):e.selectedItems.push(b)}),e.ready=function(){var a=this;this.columns.forEach(function(c,d){c.isNumeric&&a.column(d,function(c){c.style.textAlign="right",a.columns[d].hasOwnProperty("precision")&&b(function(){c.innerHTML=parseInt(c.innerHTML).toFixed(a.columns[d].precision)}),c.attributes.hasOwnProperty("show-unit")&&b(function(){c.innerHTML+=a.columns[d].unit})})})}}function d(b){if(b.parent().attr("md-row-select")){var d=b.find("tr").attr("ng-repeat");if(d){var e=a.parse(d).item,f=angular.element("<md-checkbox></md-checkbox>");f.attr("aria-label","Select Row"),f.attr("ng-click","toggleRow("+e+")"),f.attr("ng-class","{'md-checked': isSelected("+e+")}"),b.find("tr").prepend(angular.element("<td></td>").append(f)).attr("md-table-repeat","")}}return c}return{require:"^mdDataTable",compile:d}}]),angular.module("md.data.table").controller("mdDataTableController",["$attrs","$element","$parse","$scope",function(a,b,c,d){"use strict";var e=this;e.selectedItems=[],e.columns=[],a.mdRowSelect&&c(a.mdRowSelect).assign(d.$parent.$parent,e.selectedItems),a.mdFilter&&(e.filter=d.filter),e.column=function(a,c){angular.forEach(b.find("tbody").find("tr"),function(b){c(b.children[a])})},e.setColumns=function(a){return a.attributes.numeric?void e.columns.push({isNumeric:!0,unit:a.attributes.unit?a.attributes.unit.value:void 0,precision:a.attributes.precision?a.attributes.precision.value:void 0}):e.columns.push({isNumeric:!1})},angular.forEach(b.find("th"),e.setColumns)}]),angular.module("md.data.table").directive("mdDataTable",function(){"use strict";function a(a,b){var c=a.find("thead"),d=a.find("tbody");if(!c.length){if(c=a.find("tbody").eq(0),!c.children().find("th").length)throw new Error("mdDataTable","Expecting <thead></thead> element.");c.replaceWith("<thead>"+c.html()+"</thead>"),c=a.find("thead"),d=a.find("tbody")}if(c.attr("md-table-head",""),d.attr("md-table-body",""),!d.children().attr("ng-repeat")){if(b.hasOwnProperty("mdRowSelect"))return console.warn("Use ngRepeat to enable automatic row selection.");c.attr("md-filter")&&console.warn("Manual sorting may be difficult without ngRepeat.")}}return{restrict:"A",scope:{filter:"=mdFilter",selectedItems:"=mdRowSelect"},compile:a,controller:"mdDataTableController"}}),angular.module("md.data.table").directive("mdTableHead",["$mdTableRepeat",function(a){"use strict";function b(a,b,c,d){function e(){this.firstChild.width+56>this.clientWidth&&(this.firstChild.style.textAlign="right",this.firstChild.style.marginLeft=Math.max(0,this.clientWidth-this.firstChild.width)+"px")}function f(){this.firstChild.style.marginLeft="56px",this.classList.contains("trim")||(this.firstChild.style.textAlign="left")}c.mdFilter&&(a.$parent.isActive=function(b){return a.filter===b||a.filter==="-"+b},a.$parent.orderBy=function(b){c.hasOwnProperty("mdFilterClear")&&d.selectedItems.splice(0),a.filter=a.filter===b?"-"+b:b}),b.parent().attr("md-row-select")&&(a.$parent.allSelected=function(a){return a?a.length===d.selectedItems.length:!1},a.$parent.toggleAll=function(b){a.$parent.allSelected(b)?d.selectedItems.splice(0):angular.forEach(b,function(a){-1===d.selectedItems.indexOf(a)&&d.selectedItems.push(a)})}),c.hasOwnProperty("mdTrimColumnNames")&&angular.forEach(b.find("th"),function(a,b){if(a.classList.contains("trim")){if(this.parent().attr("md-row-select")&&1==b)return;var c=angular.element("<div></div>");c.html(a.firstChild.innerHTML).css({position:"absolute",visibility:"hidden"}),angular.element(document).find("body").append(c),a.firstChild.width=c.prop("clientWidth"),a.nextElementSibling||(a.firstChild.width+=24),c.remove(),a.addEventListener("mouseenter",e),a.addEventListener("mouseleave",f)}},b)}function c(c,d){if(angular.forEach(c.find("th"),function(a){if(d.mdFilter){var b=a.getAttribute("order-by");b||a.setAttribute("order-by",b=a.textContent.toLowerCase()),a.setAttribute("ng-class","{'md-active': isActive('"+b+"')}"),a.setAttribute("ng-click","orderBy('"+b+"')")}a.hasAttribute("numeric")&&(a.style.textAlign="right",a.hasAttribute("unit")&&(a.innerHTML+=" ("+a.getAttribute("unit")+")")),d.hasOwnProperty("mdTrimColumnNames")&&(a.classList.add("trim","animate"),a.innerHTML="<div>"+a.innerHTML+"</div>")}),d.hasOwnProperty("mdTrimColumnNames")&&c.parent().css({"min-width":120*c.find("th").length+"px","table-layout":"fixed"}),c.parent().attr("md-row-select")){var e=c.parent().find("tbody").find("tr").attr("ng-repeat");if(e){var f=a.parse(e).items,g=angular.element("<md-checkbox></md-checkbox>");g.attr("aria-label","Select All"),g.attr("ng-click","toggleAll("+f+")"),g.attr("ng-class","{'md-checked': allSelected("+f+")}"),c.find("tr").prepend(angular.element("<th></th>").append(g))}}return b}return{require:"^mdDataTable",scope:{filter:"=mdFilter"},compile:c}}]),angular.module("md.data.table").directive("mdDataTablePagination",function(){"use strict";return{templateUrl:"templates.md-data-table-pagination.html",scope:{limit:"=mdLimit",page:"=mdPage",rowSelect:"=mdRowSelect",total:"@mdTotal"},link:function(a){a.hasNext=function(){return a.page*a.limit<a.total},a.hasPrevious=function(){return a.page>1},a.next=function(){a.hasNext()&&a.page++},a.previous=function(){a.hasPrevious()&&a.page--}}}}),angular.module("md.data.table").directive("mdTableRepeat",function(){"use strict";return{require:"^mdDataTable",link:function(a,b,c,d){a.$last&&d.ready()}}}),angular.module("md.data.table").factory("$mdTableRepeat",function(){"use strict";function a(a){for(this._tokens=a.split(" "),this._iterator=0,this.item=this.current();this.hasNext()&&"in"!==this.getNext();)this.item+=this.current();for(this.items=this.getNext();this.hasNext()&&-1===["|","track"].indexOf(this.getNext());)this.items+=this.current();this.orderBy=void 0,this.hasNext()&&"orderBy:"===this.getNext()&&(this.orderBy=this.getNext()),this.trackBy=void 0,this.hasNext()&&(this.trackBy="by"===this.getNext()?this.getNext():this.current())}function b(b){return c.hasOwnProperty(b)?c[b]:c[b]=new a(b)}var c={};return a.prototype.current=function(){return this._tokens[this._iterator]},a.prototype.getNext=function(){return this._tokens[++this._iterator]},a.prototype.getValue=function(){return this._tokens.join(" ")},a.prototype.hasNext=function(){return this._iterator<this._tokens.length-1},a.prototype.insertOrderBy=function(a){return this.orderBy=a,this._iterator=this.trackBy?this._tokens.indexOf(this.trackBy):this._tokens.length,this._tokens.splice(this._iterator,0,"|","orderBy:",a),this._tokens.join(" ")},{parse:b}}),angular.module("md.table.templates",["templates.md-data-table-pagination.html"]),angular.module("templates.md-data-table-pagination.html",[]).run(["$templateCache",function(a){"use strict";a.put("templates.md-data-table-pagination.html",'<span>Rows per page:</span>\n<md-select ng-model="limit" aria-label="Row Count" placeholder="{{rowSelect ? rowSelect[0] : 5}}">\n  <md-option ng-repeat="rows in rowSelect ? rowSelect : [5, 10, 15]" value="{{rows}}">{{rows}}</md-option>\n</md-select>\n<span>{{((page - 1) * limit) + 1}} - {{page * limit < total ? page * limit : total}} of {{total}}</span>\n<md-button class="arrow left" ng-click="previous()" ng-disabled="!hasPrevious()" aria-label="Previous"></md-button>\n<md-button class="arrow right" ng-click="next()" ng-disabled="!hasNext()" aria-label="Next"></span></md-button>')}]);